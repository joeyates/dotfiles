#!/usr/bin/env bash

PG_VERSION=${1:-11}
VOLUME=${2:-postgis$PG_VERSION}
EXTERNAL_PORT=${3:-5432}
#IMAGE=kartoza/postgis:12.0
IMAGE=mdillon/postgis:$PG_VERSION

mkdir -p /tmp/docker-pg
chmod 0777 /tmp/docker-pg

docker \
  run \
  --publish $EXTERNAL_PORT:5432 \
  --volume /tmp/docker-pg:/tmp \
  --volume $VOLUME:/var/lib/postgresql/data \
  -e POSTGRES_PASS=password \
  $IMAGE
